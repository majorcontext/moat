# Example: Secrets injection from 1Password
#
# This example demonstrates injecting secrets from 1Password into the
# container environment. The agent receives the secret value as an
# environment variable without ever seeing the 1Password reference.
#
# Prerequisites:
#   1. Install 1Password CLI: https://1password.com/downloads/command-line/
#   2. Sign in: eval $(op signin)
#   3. Create a test secret (if it doesn't exist):
#      op item create --category=password --title="Test Secret" --vault="Private" password=my-test-value
#
# Run with:
#   moat run examples/secrets-1password
#
# The container will have TEST_SECRET set to the value from 1Password.

name: secrets-demo

secrets:
  TEST_SECRET: op://Private/Test Secret/password

command: ["sh", "-c", "echo Your secret: $TEST_SECRET"]
